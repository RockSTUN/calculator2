{"ast":null,"code":"var _jsxFileName = \"/home/rockstu/Documents/Projects/calculator2/calculator-2.0/src/Components/Calculator/Buttons.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Button extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleStyle = this.handleStyle.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleArithmetic = this.handleArithmetic.bind(this);\n  }\n  handleArithmetic() {\n    let numbs = this.props.disp.split(/[-|+|x|/]/).map(n => {\n      if (n.split('.').length == 1) {\n        return parseInt(n);\n      } else {\n        let aux = parseInt(n.split('.')[0] + n.split('.')[1]);\n        return aux / 10 ** n.split('.')[1].length;\n      }\n    }).filter(el => el ? true : false);\n    let ops = this.props.disp.split(/\\d+/).filter(op => op == '.' || op == '' ? false : true);\n    let ans = numbs[0];\n    if (this.props.disp[0] == '-') {\n      ans = -ans;\n      ops.shift();\n    }\n    for (let i = 1; i < numbs.length; i++) {\n      switch (ops[i - 1]) {\n        case '+':\n          ans += numbs[i];\n          break;\n        case '-':\n          ans -= numbs[i];\n          break;\n        case '\\/':\n          ans = ans / numbs[i];\n          break;\n        case 'x':\n          ans = ans * numbs[i];\n          break;\n        case '+-':\n          ans = ans - numbs[i];\n          break;\n        case 'x-':\n          ans = -ans * numbs[i];\n          break;\n        case '\\/-':\n          ans = -ans / numbs[i];\n          break;\n      }\n    }\n    return (Math.round(100 * ans) / 100).toString();\n  }\n  handleClick(event) {\n    document.getElementById('displayer').style.color = this.props.disp.length == 15 ? 'red' : 'black';\n    if (this.props.disp.length == 16) {\n      this.props.changeDisplay('MAX REACHED');\n    } else if (this.props.disp == 'MAX REACHED' || this.props.disp == '0') {\n      this.props.changeDisplay(parseInt(event.target.innerHTML) ? event.target.innerHTML : event.target.innerHTML == '-' ? '-' : '0');\n    } else {\n      switch (event.target.innerHTML) {\n        case 'AC':\n          this.props.changeDisplay('0');\n          this.props.changeTopDisplay('');\n          break;\n        case '.':\n          let a = this.props.disp.split(/[x?+?-?/]/g);\n          if (a[a.length - 1].split('.').length == 1) {\n            this.props.changeDisplay(this.props.disp + event.target.innerHTML);\n          }\n          break;\n        case '=':\n          this.props.changeTopDisplay(this.props.disp + '=');\n          this.props.changeDisplay(this.handleArithmetic());\n          break;\n        case '\\/':\n        case '+':\n        case 'x':\n          switch (this.props.disp[this.props.disp.length - 1]) {\n            case '-':\n            case '+':\n            case 'x':\n            case '\\/':\n              let aux = [...this.props.disp.split('')];\n              aux.pop();\n              this.props.changeDisplay(aux.join('') + event.target.innerHTML);\n              break;\n            default:\n              this.props.changeDisplay(this.props.disp + event.target.innerHTML);\n              break;\n          }\n          break;\n        case '-':\n          this.props.changeDisplay(this.props.disp[this.props.disp.length - 1] == '-' ? this.props.disp : this.props.disp + event.target.innerHTML);\n          break;\n        default:\n          this.props.changeDisplay(this.props.disp + event.target.innerHTML);\n      }\n    }\n\n    //         this.props.changeDisplay(event.target.innerHTML)\n  }\n\n  handleStyle() {\n    switch (this.props.b) {\n      case 'AC':\n        return styles.AC;\n      case '=':\n        return styles.Equals;\n      case '0':\n        return styles.AC;\n      case '\\/':\n      case 'x':\n      case '-':\n      case '+':\n        return styles.Operators;\n      default:\n        return styles.Numbers;\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: this.handleStyle(),\n      id: \"buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          display: 'block',\n          width: '100%',\n          height: '100%'\n        },\n        onClick: this.handleClick,\n        children: this.props.b\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 16\n    }, this);\n  }\n}\nconst styles = {\n  Numbers: {\n    flex: 1\n  },\n  Operators: {\n    flex: 1\n  },\n  AC: {\n    flex: 2\n  },\n  Equals: {\n    flex: 1,\n    color: 'red',\n    backgroundColor: 'red'\n  }\n};\nfunction mapStateToProps(state) {\n  return {\n    disp: state.disp,\n    topdisp: state.topdisp\n  };\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeDisplay: inp => dispatch({\n      type: 'CHANGE_DISPLAY',\n      newChar: inp\n    }),\n    changeTopDisplay: inp => dispatch({\n      type: 'CHANGE_TOPDISPLAY',\n      newTop: inp\n    })\n  };\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Button);","map":{"version":3,"names":["React","connect","Button","Component","constructor","props","handleStyle","bind","handleClick","handleArithmetic","numbs","disp","split","map","n","length","parseInt","aux","filter","el","ops","op","ans","shift","i","Math","round","toString","event","document","getElementById","style","color","changeDisplay","target","innerHTML","changeTopDisplay","a","pop","join","b","styles","AC","Equals","Operators","Numbers","render","display","width","height","flex","backgroundColor","mapStateToProps","state","topdisp","mapDispatchToProps","dispatch","inp","type","newChar","newTop"],"sources":["/home/rockstu/Documents/Projects/calculator2/calculator-2.0/src/Components/Calculator/Buttons.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nclass Button extends React.Component {\n    constructor(props){\n        super(props);\n        this.handleStyle = this.handleStyle.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleArithmetic = this.handleArithmetic.bind(this);\n    }\n    handleArithmetic(){\n        let numbs = this.props.disp.split(/[-|+|x|/]/).map((n) => {\n            if (n.split('.').length == 1){\n                return parseInt(n)\n            }\n            else{\n                let aux = parseInt(n.split('.')[0]+ n.split('.')[1])\n                return aux/(10**n.split('.')[1].length)\n            }\n        }).filter((el) => el ? true : false)\n        let ops = this.props.disp.split(/\\d+/).filter((op) => (op == '.' || op == '') ? false: true)\n        let ans = numbs[0]\n        if (this.props.disp[0] == '-'){\n            ans = -ans\n            ops.shift()\n        }\n        for (let i =1;i<numbs.length; i++){\n            switch(ops[i-1]){\n                case '+':\n                    ans+=numbs[i];\n                    break;\n                case '-':\n                    ans-=numbs[i]\n                    break;\n                case '\\/':\n                    ans = ans/numbs[i];\n                    break;\n                case 'x':\n                    ans = ans*numbs[i];\n                    break;\n                case '+-':\n                    ans = ans-numbs[i];\n                    break;\n                case 'x-':\n                    ans = -ans*numbs[i];\n                    break;\n                case '\\/-':\n                    ans = -ans/numbs[i];\n                    break;\n            }\n        }\n        return (Math.round(100*ans)/100).toString()\n    }\n    handleClick(event){\n        document.getElementById('displayer').style.color = (this.props.disp.length == 15) ? 'red' : 'black'\n        if (this.props.disp.length == 16){ this.props.changeDisplay('MAX REACHED')}\n        else if (this.props.disp == 'MAX REACHED' || this.props.disp == '0'){\n            this.props.changeDisplay(parseInt(event.target.innerHTML) ? event.target.innerHTML : (event.target.innerHTML == '-') ? '-': '0'  )\n        }\n        else{\n            switch(event.target.innerHTML){\n                case 'AC':\n                    this.props.changeDisplay('0')\n                    this.props.changeTopDisplay('')\n                    break\n                case '.':\n                    let a = this.props.disp.split(/[x?+?-?/]/g);\n                    if (a[a.length-1].split('.').length == 1){\n                        this.props.changeDisplay(this.props.disp + event.target.innerHTML)\n                    }\n                    break;\n                case '=':\n                    this.props.changeTopDisplay(this.props.disp + '=')\n                    this.props.changeDisplay(this.handleArithmetic());\n                    break;\n                case '\\/':\n                case '+':\n                case 'x':\n                    switch(this.props.disp[this.props.disp.length -1]){\n                        case '-':\n                        case '+':\n                        case 'x':\n                        case '\\/':\n                            let aux = [...this.props.disp.split('')]\n                            aux.pop()\n                            this.props.changeDisplay(aux.join('') + event.target.innerHTML)\n                            break;\n                        default:\n                            this.props.changeDisplay(this.props.disp + event.target.innerHTML)\n                            break\n                    }\n                    break;\n                case '-':\n                    this.props.changeDisplay((this.props.disp[this.props.disp.length -1] == '-') ? this.props.disp : this.props.disp + event.target.innerHTML)    \n                    break;\n                default:\n                    this.props.changeDisplay(this.props.disp + event.target.innerHTML)\n                \n        }\n        }\n        \n//         this.props.changeDisplay(event.target.innerHTML)\n    }\n    handleStyle(){\n        switch(this.props.b){\n            case 'AC':\n                return styles.AC\n            case '=':\n                return styles.Equals\n            case '0':\n                return styles.AC\n            case '\\/':\n            case 'x':\n            case '-':\n            case '+':\n                return styles.Operators\n            default: \n                return styles.Numbers\n        }\n    }\n    render(){\n        return <div style={this.handleStyle()} id='buttons'>\n            <button style={{ display: 'block', width: '100%', height: '100%'}} onClick={this.handleClick}>{this.props.b}</button>\n        </div>\n    }\n}\n\nconst styles = {\n    Numbers: {\n        flex: 1\n    },\n    Operators: {\n        flex: 1\n    },\n    AC: {\n        flex: 2,\n    },\n    Equals: {\n        flex: 1,\n        color: 'red',\n        backgroundColor: 'red'\n    }\n};\n\nfunction mapStateToProps(state){\n    return {\n        disp: state.disp,\n        topdisp: state.topdisp\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        changeDisplay: (inp) => dispatch({type: 'CHANGE_DISPLAY', newChar:  inp}),\n        changeTopDisplay: (inp) => dispatch({type: 'CHANGE_TOPDISPLAY', newTop: inp})\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Button);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}